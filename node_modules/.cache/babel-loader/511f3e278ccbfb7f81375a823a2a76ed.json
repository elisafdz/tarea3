{"ast":null,"code":"import _toConsumableArray from\"/Users/elisafernandez/Desktop/tarea3-taller-int/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/elisafernandez/Desktop/tarea3-taller-int/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./chat.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=function Chat(_ref){var socket=_ref.socket;var socket_recibido=socket[0];var nombre=socket[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mensajes=_useState2[0],setMensajes=_useState2[1];var manejarEnvio=function manejarEnvio(evt){evt.preventDefault();socket_recibido.emit(\"CHAT\",{name:nombre,date:\"ahora\",message:message});};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];useEffect(function(){socket_recibido.emit(\"CHAT\");socket_recibido.on(\"CHAT\",function(data){// setChat(data)\nsetMensajes(function(prev){return[].concat(_toConsumableArray(prev),[data]);});});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"CHAT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"texto-chat\",children:mensajes.map(function(mensaje){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:Date(mensaje.date)}),/*#__PURE__*/_jsxs(\"p\",{children:[mensaje.name,\":\",mensaje.message]})]});})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:manejarEnvio,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Mensaje:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:function onChange(f){return setMessage(f.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]})]});};export default Chat;","map":{"version":3,"sources":["/Users/elisafernandez/Desktop/tarea3-taller-int/src/chat.js"],"names":["React","useState","useEffect","Chat","socket","socket_recibido","nombre","mensajes","setMensajes","manejarEnvio","evt","preventDefault","emit","name","date","message","setMessage","on","data","prev","map","mensaje","Date","f","target","value"],"mappings":"oVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,YAAP,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAa,IAAXC,CAAAA,MAAW,MAAXA,MAAW,CACxB,GAAMC,CAAAA,eAAe,CAAGD,MAAM,CAAC,CAAD,CAA9B,CACA,GAAME,CAAAA,MAAM,CAAGF,MAAM,CAAC,CAAD,CAArB,CAFwB,cAGQH,QAAQ,CAAC,EAAD,CAHhB,wCAGjBM,QAHiB,eAGPC,WAHO,eAIxB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CACEA,GAAG,CAACC,cAAJ,GACAN,eAAe,CAACO,IAAhB,CAAqB,MAArB,CAA6B,CAACC,IAAI,CAACP,MAAN,CAAcQ,IAAI,CAAC,OAAnB,CAA4BC,OAAO,CAACA,OAApC,CAA7B,EAED,CAJ/B,CAJwB,eASQd,QAAQ,CAAC,EAAD,CAThB,yCASfc,OATe,eASNC,UATM,eAWtBd,SAAS,CAAC,UAAM,CACdG,eAAe,CAACO,IAAhB,CAAqB,MAArB,EACAP,eAAe,CAACY,EAAhB,CAAmB,MAAnB,CAA2B,SAACC,IAAD,CAAU,CACpC;AACCV,WAAW,CAAC,SAACW,IAAD,qCAAaA,IAAb,GAAmBD,IAAnB,IAAD,CAAX,CAED,CAJD,EAQD,CAVQ,CAUN,EAVM,CAAT,CAYA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,4BADF,cAEE,YAAK,SAAS,CAAC,YAAf,UACGX,QAAQ,CAACa,GAAT,CAAa,SAAAC,OAAO,qBAAG,oCAAK,mBAAIC,IAAI,CAACD,OAAO,CAACP,IAAT,CAAR,EAAL,cAAgC,qBAAIO,OAAO,CAACR,IAAZ,KAAmBQ,OAAO,CAACN,OAA3B,GAAhC,GAAH,EAApB,CADH,EAFF,cAME,cAAM,QAAQ,CAAEN,YAAhB,wBACI,iDAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEM,OAFT,CAGE,QAAQ,CAAE,kBAAAQ,CAAC,QAAIP,CAAAA,UAAU,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAHb,EAFF,GADJ,cASI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EATJ,GANF,GADF,CAuBH,CA9CD,CAgDA,cAAetB,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./chat.css\";\n\nconst Chat = ({socket})=> {\n  const socket_recibido = socket[0];\n  const nombre = socket[1];\n  const [mensajes, setMensajes] = useState([]);\n  const manejarEnvio = (evt) => {\n                                  evt.preventDefault();\n                                  socket_recibido.emit(\"CHAT\", {name:nombre, date:\"ahora\", message:message})\n                                  \n                                }\n    const [message, setMessage] = useState(\"\");\n\n    useEffect(() => {\n      socket_recibido.emit(\"CHAT\")\n      socket_recibido.on(\"CHAT\", (data) => {\n       // setChat(data)\n        setMensajes((prev)=> [...prev, data]);\n\n      });\n        \n      \n     \n    }, []);\n   \n    return (\n      <div className=\"chat\">\n        <h4>CHAT</h4>\n        <div className=\"texto-chat\">\n          {mensajes.map(mensaje=> <div><p>{Date(mensaje.date)}</p><p>{mensaje.name}:{mensaje.message}</p></div>)}\n        </div>\n        \n        <form onSubmit={manejarEnvio}>\n            <label>\n              Mensaje:\n              <input\n                type=\"text\"\n                value={message}\n                onChange={f => setMessage(f.target.value)}\n              />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n    </form>\n      </div>\n       \n      \n    \n    );\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}