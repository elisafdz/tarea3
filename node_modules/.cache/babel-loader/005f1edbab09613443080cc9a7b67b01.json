{"ast":null,"code":"import _toConsumableArray from\"/Users/elisafernandez/Desktop/tarea3-taller-int/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/elisafernandez/Desktop/tarea3-taller-int/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{MapContainer,TileLayer,Marker,Popup,Polyline,Tooltip}from'react-leaflet';import'leaflet/dist/leaflet.css';import\"./map.css\";import{Icon}from'leaflet';import{LeafletContext}from\"@react-leaflet/core\";import foto_icono from\"./punto.png\";import foto_icono2 from\"./avion.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Map=function Map(_ref){var socket=_ref.socket;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mapa=_useState2[0],setMapa=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),flights=_useState4[0],setFlights=_useState4[1];//const inicio = useState([]);\nvar foto=new Icon({iconUrl:foto_icono,iconSize:[10,10]});var foto1=new Icon({iconUrl:foto_icono2,iconSize:[40,40]});useEffect(function(){socket.on(\"POSITION\",function(data){setMapa(function(prev){return[].concat(_toConsumableArray(prev),[data]);});});socket.emit(\"FLIGHTS\");socket.on(\"FLIGHTS\",function(data){setFlights(data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Mapa\",children:[/*#__PURE__*/_jsxs(MapContainer,{center:[-37.675147,-71.542979],zoom:5,scrollWheelZoom:false,style:{height:\"50vh\"},children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),mapa.map(function(posicion){if(posicion){return/*#__PURE__*/_jsx(Marker,{position:[posicion.position[0],posicion.position[1]],icon:foto,children:/*#__PURE__*/_jsx(Popup,{children:posicion.code})});}}),flights.map(function(coordenadas){return/*#__PURE__*/_jsx(Polyline,{positions:[[coordenadas.origin[0],coordenadas.origin[1]],[coordenadas.destination[0],coordenadas.destination[1]]],color:\"blue\",weight:2,opacity:0.5});}),flights.map(function(posicion){if(posicion){return/*#__PURE__*/_jsx(Marker,{position:[posicion.origin[0],posicion.origin[1]],icon:foto1});}}),flights.map(function(posicion){if(posicion){return/*#__PURE__*/_jsx(Marker,{position:[posicion.destination[0],posicion.destination[1]],icon:foto1});}})]}),/*#__PURE__*/_jsx(\"h4\",{id:\"info-vuelos\",children:\"Informaci\\xF3n Vuelos \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container_informacion\",children:[\" \",flights.map(function(vuelos){if(vuelos){return/*#__PURE__*/_jsxs(\"div\",{className:\"informacion\",children:[vuelos.code,/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Aerol\\xEDnea: \",vuelos.airline]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Origen: \",vuelos.origin]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Destino: \",vuelos.destination]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Avi\\xF3n: \",vuelos.plane]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Asientos: \",vuelos.seats]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Pasajeros:\",vuelos.passengers.map(function(pasajero){if(pasajero){return/*#__PURE__*/_jsxs(\"p\",{children:[pasajero.name,\", \",pasajero.age]});}})]})]})]});}})]})]});};export default Map;","map":{"version":3,"sources":["/Users/elisafernandez/Desktop/tarea3-taller-int/src/Mapa.js"],"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","Polyline","Tooltip","Icon","LeafletContext","foto_icono","foto_icono2","Map","socket","mapa","setMapa","flights","setFlights","foto","iconUrl","iconSize","foto1","on","data","prev","emit","height","map","posicion","position","code","coordenadas","origin","destination","vuelos","airline","plane","seats","passengers","pasajero","name","age"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, Tooltip } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css';\nimport \"./map.css\";\nimport {Icon} from 'leaflet';\nimport { LeafletContext } from \"@react-leaflet/core\";\nimport foto_icono from \"./punto.png\";\nimport foto_icono2 from \"./avion.png\";\n\n\nconst Map = ({socket})=> {\n    const [mapa, setMapa] = useState([]);\n    const [flights, setFlights] = useState([]);\n    //const inicio = useState([]);\n    const foto = new Icon({\n        iconUrl: foto_icono,\n        iconSize: [10, 10],\n    })\n    const foto1 = new Icon({\n      iconUrl: foto_icono2,\n      iconSize: [40, 40],\n  })\n\n    useEffect(() => {\n  \n      socket.on(\"POSITION\", data => {\n        setMapa((prev)=> [...prev, data]);\n      });\n      socket.emit(\"FLIGHTS\")\n      socket.on(\"FLIGHTS\", (data) => {\n        setFlights(data)\n      });\n      \n    }, []);\n\n \n    return (\n      \n      <div className=\"Mapa\">\n         \n          <MapContainer center={[-37.675147, -71.542979]} zoom={5} scrollWheelZoom={false} style={{height:\"50vh\"}}>\n            <TileLayer\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            {mapa.map(posicion => {\n            if (posicion){ return (\n                <Marker position={[posicion.position[0], posicion.position[1]]} icon={foto}>\n                <Popup>\n                {posicion.code}\n                </Popup>\n            </Marker>)}})}\n            \n            { flights.map(coordenadas => {return(\n            <Polyline positions={[[coordenadas.origin[0], coordenadas.origin[1]], [coordenadas.destination[0], coordenadas.destination[1]]]} color=\"blue\" weight={2}\n              opacity={0.5} />\n              )})} \n\n            {flights.map(posicion => {\n              \n            if (posicion){ return (\n                <Marker position={[posicion.origin[0], posicion.origin[1]]} icon={foto1}>\n                </Marker>)}})}\n\n            {flights.map(posicion => {\n              \n              if (posicion){ return (\n                  <Marker position={[posicion.destination[0], posicion.destination[1]]} icon={foto1}>\n                  </Marker>)}})}\n            \n            \n            </MapContainer>\n       \n            \n       \n\n       <h4 id=\"info-vuelos\">Información Vuelos </h4>\n       \n        <div className=\"container_informacion\"> {flights.map(vuelos => {\n                  if (vuelos){return(\n                      <div className=\"informacion\">\n                          {vuelos.code}\n                          <ul>\n                          <li>Aerolínea: {vuelos.airline}</li>\n                          <li>Origen: {vuelos.origin}</li>\n                          <li>Destino: {vuelos.destination}</li>\n                          <li>Avión: {vuelos.plane}</li>\n                          <li>Asientos: {vuelos.seats}</li>\n                          <li>Pasajeros:{vuelos.passengers.map(pasajero => {\n                              if (pasajero){return(\n                                  <p>{pasajero.name}, {pasajero.age}</p>\n                              )}\n                          })}</li>\n                      </ul>\n                      </div>\n                      \n                      \n                  )}\n              })}</div>\n       </div>\n            \n    \n    \n    );\n}\n\nexport default Map;"]},"metadata":{},"sourceType":"module"}