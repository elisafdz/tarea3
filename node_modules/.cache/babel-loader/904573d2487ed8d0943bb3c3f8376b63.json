{"ast":null,"code":"import _slicedToArray from\"/Users/elisafernandez/Desktop/tarea3-taller-int/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Mapa from'./Mapa';import Chat from'./chat';import React,{useState,useEffect}from'react';import{io}from\"socket.io-client\";import\"./map.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),socket=_useState2[0],setSocket=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),enviado=_useState6[0],setEnviado=_useState6[1];var handleSubmit=function handleSubmit(evt){evt.preventDefault();if(name!=\"\"){setEnviado(true);}};useEffect(function(){var connect_socket=io(\"ws://tarea-3-websocket.2021-1.tallerdeintegracion.cl\",{path:'/flights'});setSocket(connect_socket);setName(name);},[]);if(socket){if(enviado){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inicio\",children:[/*#__PURE__*/_jsx(Chat,{socket:[socket,name],name:name}),/*#__PURE__*/_jsx(Mapa,{socket:socket})]}),\"}\"]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Nickname:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]})});}}else{return/*#__PURE__*/_jsx(\"div\",{children:\"Cargando...\"});}}export default App;","map":{"version":3,"sources":["/Users/elisafernandez/Desktop/tarea3-taller-int/src/App.js"],"names":["Mapa","Chat","React","useState","useEffect","io","App","socket","setSocket","name","setName","enviado","setEnviado","handleSubmit","evt","preventDefault","connect_socket","path","e","target","value"],"mappings":"sKACA,MAAOA,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAAQC,EAAR,KAAiB,kBAAjB,CACA,MAAO,WAAP,C,wFAGA,QAASC,CAAAA,GAAT,EAAe,eACeH,QAAQ,CAAC,KAAD,CADvB,wCACNI,MADM,eACEC,SADF,8BAEWL,QAAQ,CAAC,EAAD,CAFnB,yCAENM,IAFM,eAEAC,OAFA,8BAGiBP,QAAQ,CAAC,KAAD,CAHzB,yCAGNQ,OAHM,eAGGC,UAHH,eAKb,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CAC5BA,GAAG,CAACC,cAAJ,GACA,GAAIN,IAAI,EAAE,EAAV,CAAa,CACXG,UAAU,CAAC,IAAD,CAAV,CACD,CAEA,CANH,CAQAR,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,cAAc,CAAGX,EAAE,CAAC,sDAAD,CAAyD,CAACY,IAAI,CAAE,UAAP,CAAzD,CAAzB,CACAT,SAAS,CAACQ,cAAD,CAAT,CAEAN,OAAO,CAACD,IAAD,CAAP,CACD,CALQ,CAKN,EALM,CAAT,CAQA,GAAIF,MAAJ,CAAW,CACT,GAAII,OAAJ,CAAY,CACV,mBACE,oCAEE,aAAK,SAAS,CAAC,QAAf,wBACE,KAAC,IAAD,EAAO,MAAM,CAAE,CAACJ,MAAD,CAASE,IAAT,CAAf,CAA+B,IAAI,CAAEA,IAArC,EADF,cAEE,KAAC,IAAD,EAAO,MAAM,CAAEF,MAAf,EAFF,GAFF,OADF,CAaD,CAdD,IAeK,CAEH,mBACE,YAAK,SAAS,CAAC,MAAf,uBACG,cAAM,QAAQ,CAAEM,YAAhB,wBACC,kDAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEJ,IAFT,CAGE,QAAQ,CAAE,kBAAAS,CAAC,QAAIR,CAAAA,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,EAHb,EAFF,GADD,cASC,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EATD,GADH,EADF,CAeD,CAEF,CAnCD,IAoCI,CAAC,mBAAO,oCAAP,CAA8B,CAEpC,CAGD,cAAed,CAAAA,GAAf","sourcesContent":["\nimport Mapa from './Mapa';\nimport Chat from './chat';\nimport React, { useState, useEffect } from 'react';\nimport {io} from \"socket.io-client\";\nimport \"./map.css\";\n\n\nfunction App() {\n  const [socket, setSocket] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [enviado, setEnviado] = useState(false)\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (name!=\"\"){\n      setEnviado(true)\n    }\n    \n    }\n \n  useEffect(() => {\n    const connect_socket = io(\"ws://tarea-3-websocket.2021-1.tallerdeintegracion.cl\", {path: '/flights'});\n    setSocket(connect_socket)\n\n    setName(name)\n  }, []\n  );\n  \n  if (socket){\n    if (enviado){\n      return (\n        <div>    \n           \n          <div className=\"inicio\" >\n            <Chat  socket={[socket, name]} name={name}  ></Chat>\n            <Mapa  socket={socket}></Mapa>\n          </div>\n          \n          \n        }\n        </div>\n      \n      );\n    }\n    else {\n     \n      return (\n        <div className=\"form\">\n           <form onSubmit={handleSubmit}>\n            <label>\n              Nickname:\n              <input\n                type=\"text\"\n                value={name}\n                onChange={e => setName(e.target.value)}\n              />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n    </form>\n        </div>\n      );\n    }\n    \n  }\n  else{return <div>Cargando...</div>}\n\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}