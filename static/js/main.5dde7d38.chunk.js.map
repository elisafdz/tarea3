{"version":3,"sources":["avion.png","Mapa.js","punto.png","chat.js","App.js","reportWebVitals.js","index.js"],"names":["Map","socket","useState","mapa","setMapa","flights","setFlights","foto","Icon","iconUrl","iconSize","foto1","foto_icono2","useEffect","on","data","prev","emit","className","MapContainer","center","zoom","scrollWheelZoom","style","height","TileLayer","attribution","url","map","posicion","Marker","position","icon","Popup","code","coordenadas","Polyline","positions","origin","destination","color","weight","opacity","id","vuelos","airline","plane","seats","passengers","pasajero","name","age","Chat","socket_recibido","nombre","mensajes","setMensajes","message","setMessage","mensaje","Date","date","onSubmit","evt","preventDefault","type","value","onChange","f","target","App","setSocket","setName","enviado","setEnviado","connect_socket","io","path","Mapa","e","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5dde7d38.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avion.829088f7.png\";","\nimport React, { useState, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, Tooltip } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css';\nimport \"./map.css\";\nimport {Icon} from 'leaflet';\nimport { LeafletContext } from \"@react-leaflet/core\";\nimport foto_icono from \"./punto.png\";\nimport foto_icono2 from \"./avion.png\";\n\n\nconst Map = ({socket})=> {\n    const [mapa, setMapa] = useState([]);\n    const [flights, setFlights] = useState([]);\n    //const inicio = useState([]);\n    const foto = new Icon({\n        iconUrl: foto_icono,\n        iconSize: [10, 10],\n    })\n    const foto1 = new Icon({\n      iconUrl: foto_icono2,\n      iconSize: [40, 40],\n  })\n\n    useEffect(() => {\n  \n      socket.on(\"POSITION\", data => {\n        setMapa((prev)=> [...prev, data]);\n      });\n      socket.emit(\"FLIGHTS\")\n      socket.on(\"FLIGHTS\", (data) => {\n        setFlights(data)\n      });\n      \n    }, []);\n\n \n    return (\n      \n      <div className=\"Mapa\">\n         \n          <MapContainer center={[-37.675147, -71.542979]} zoom={5} scrollWheelZoom={false} style={{height:\"50vh\"}}>\n            <TileLayer\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            {mapa.map(posicion => {\n            if (posicion){ return (\n                <Marker position={[posicion.position[0], posicion.position[1]]} icon={foto}>\n                <Popup>\n                {posicion.code}\n                </Popup>\n            </Marker>)}})}\n            \n            { flights.map(coordenadas => {return(\n            <Polyline positions={[[coordenadas.origin[0], coordenadas.origin[1]], [coordenadas.destination[0], coordenadas.destination[1]]]} color=\"blue\" weight={2}\n              opacity={0.5} />\n              )})} \n\n            {flights.map(posicion => {\n              \n            if (posicion){ return (\n                <Marker position={[posicion.origin[0], posicion.origin[1]]} icon={foto1}>\n                </Marker>)}})}\n\n            {flights.map(posicion => {\n              \n              if (posicion){ return (\n                  <Marker position={[posicion.destination[0], posicion.destination[1]]} icon={foto1}>\n                  </Marker>)}})}\n            \n            \n            </MapContainer>\n       \n            \n       \n\n       <h4 id=\"info-vuelos\">Información Vuelos </h4>\n       \n        <div className=\"container_informacion\"> {flights.map(vuelos => {\n                  if (vuelos){return(\n                      <div className=\"informacion\">\n                          {vuelos.code}\n                          <ul>\n                          <li>Aerolínea: {vuelos.airline}</li>\n                          <li>Origen: {vuelos.origin}</li>\n                          <li>Destino: {vuelos.destination}</li>\n                          <li>Avión: {vuelos.plane}</li>\n                          <li>Asientos: {vuelos.seats}</li>\n                          <li>Pasajeros:{vuelos.passengers.map(pasajero => {\n                              if (pasajero){return(\n                                  <p>{pasajero.name}, {pasajero.age}</p>\n                              )}\n                          })}</li>\n                      </ul>\n                      </div>\n                      \n                      \n                  )}\n              })}</div>\n       </div>\n            \n    \n    \n    );\n}\n\nexport default Map;","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from \"react\";\nimport \"./chat.css\";\n\nconst Chat = ({socket})=> {\n  const socket_recibido = socket[0];\n  const nombre = socket[1];\n  const [mensajes, setMensajes] = useState([]);\n  const manejarEnvio = (evt) => {\n                                  evt.preventDefault();\n                                  socket_recibido.emit(\"CHAT\", {name:nombre, date:\"ahora\", message:message})\n                                  \n                                }\n    const [message, setMessage] = useState(\"\");\n\n    useEffect(() => {\n      socket_recibido.emit(\"CHAT\")\n      socket_recibido.on(\"CHAT\", (data) => {\n       // setChat(data)\n        setMensajes((prev)=> [...prev, data]);\n\n      });\n        \n      \n     \n    }, []);\n   \n    return (\n      <div className=\"chat\">\n        <h4>CHAT</h4>\n        <div className=\"texto-chat\">\n          {mensajes.map(mensaje=> <div><p>{Date(mensaje.date)}</p><p>{mensaje.name}:{mensaje.message}</p></div>)}\n        </div>\n        \n        <form onSubmit={manejarEnvio}>\n            <label>\n              Mensaje:\n              <input\n                type=\"text\"\n                value={message}\n                onChange={f => setMessage(f.target.value)}\n              />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n    </form>\n      </div>\n       \n      \n    \n    );\n}\n\nexport default Chat;","\nimport Mapa from './Mapa';\nimport Chat from './chat';\nimport React, { useState, useEffect } from 'react';\nimport {io} from \"socket.io-client\";\nimport \"./map.css\";\n\n\nfunction App() {\n  const [socket, setSocket] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [enviado, setEnviado] = useState(false)\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (name!=\"\"){\n      setEnviado(true)\n    }\n    \n    }\n \n  useEffect(() => {\n    const connect_socket = io(\"ws://tarea-3-websocket.2021-1.tallerdeintegracion.cl\", {path: '/flights'});\n    setSocket(connect_socket)\n\n    setName(name)\n  }, []\n  );\n  \n  if (socket){\n    if (enviado){\n      return (\n        <div>    \n           \n          <div className=\"inicio\" >\n            <Chat  socket={[socket, name]} name={name}  ></Chat>\n            <Mapa  socket={socket}></Mapa>\n          </div>\n          \n          \n        }\n        </div>\n      \n      );\n    }\n    else {\n     \n      return (\n        <div className=\"form\">\n           <form onSubmit={handleSubmit}>\n            <label>\n              Nickname:\n              <input\n                type=\"text\"\n                value={name}\n                onChange={e => setName(e.target.value)}\n              />\n            </label>\n            <input type=\"submit\" value=\"Submit\" />\n    </form>\n        </div>\n      );\n    }\n    \n  }\n  else{return <div>Cargando...</div>}\n\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}